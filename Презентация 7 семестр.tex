\documentclass[pdf, 8pt, unicode]{beamer}

\usepackage[cp1251]{inputenc}
\usepackage[english,russian]{babel}

\usepackage[warn]{mathtext}
\usepackage{hyperref}
\usepackage{ragged2e}
\usepackage{skak}
\usepackage[version=3]{mhchem}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{amsthm}
\usepackage{microtype}
\usepackage{listings}
\usepackage{color}
\usepackage{tikz}
\usepackage{beamerthemesplit}
\usepackage{epstopdf}
\setbeamerfont{institute}{size=\normalsize}
\setbeamercolor{bluetext_color}{fg=blue}
\newcommand{\bluetext}[1]{{\usebeamercolor[fg]{bluetext_color}#1}}
\setbeamercovered{transparent}
\hypersetup{pdfpagemode=FullScreen}
\institute{
Бурятский государственный университет \\
Институт математики и информатики \\
Кафедра прикладной математики \\

\vspace{0.5cm}

 Научный руководитель --- асс. каф. ИТ {\bf Брагин Александр Фёдорович}\\
 }

\title[Метод бросания лучей]{3D-визуализация
двумерного плана помещения\\
методом бросания лучей}

\author{Шорников Александр Евгеньевич, группа 05230}

 \date{
    Улан-Удэ\\
    2016г.
}

\begin{document}
\begin{frame}
  % создаём титульный лист
  \maketitle
\end{frame}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{frame}\frametitle{Метод бросания лучей}
Метод бросания лучей (или рейкастинг) - один из методов рендеринга в компьютерной графике,
при котором сцена строится на основе замеров пересечения лучей с визуализируемой поверхностью.

\end{frame}
\begin{frame}\frametitle{История}
Метод бросания лучей в публикациях по компьютерной графике впервые был
применён в 1982 г. для отрисовки моделей конструктивной блочной геометрии\\

\begin{figure}[h!]
\begin{center}
\includegraphics[width=10cm]{sl_2}\\
\end{center}
\end{figure}

Roth, Scott D. (February 1982), "Ray Casting for Modeling Solids", Computer Graphics and Image Processing Т. 18: 109–144
\end{frame}
\begin{frame}\frametitle{История}
Для ПК рейкастинг в 1992 г. популяризировала игра Wolfenstein 3D
\begin{figure}[h!]
\begin{center}
\includegraphics[width=10cm]{sl_3}\\
\end{center}
\end{figure}
\end{frame}
\begin{frame}\frametitle{История}
В Wolfenstein 3D реализует игровую сцену двумерной моделью, которая визуализируется в 3D
\begin{figure}[h!]
\begin{center}
\includegraphics[width=10cm]{sl_4}\\
\end{center}
\end{figure}
\end{frame}
\begin{frame}\frametitle{План этажа}
\begin{center}
ПЛАН ЭВАКУАЦИИ\\
людей и материальных ценностей при возникновении пожара и\\
других чрезвычайных ситуаций\\
из здания 2 этажа учебного корпуса №1 Бурятского\\
государственного университета (г. Улан-Удэ, ул Ранжурова, 5)
\end{center}
\begin{figure}[h!]
\begin{center}
\includegraphics[width=10cm]{sl_5}\\
\end{center}
\end{figure}

\end{frame}
\begin{frame}\frametitle{План этажа}
3D визуализации плана этажа методом рейкастинга
\begin{figure}[h!]
\begin{center}
\includegraphics[width=6.5cm]{sl_6}\\
\end{center}
\end{figure}
\end{frame}

\begin{frame}\frametitle{Описание метода: основная идея}

\begin{minipage}{0.49 \linewidth}
\begin{figure}[h!]
\begin{center}
\includegraphics[width=5cm]{sl_7}\\ %основная идея
\end{center}
\end{figure}
\end{minipage}
\hfill
\begin{minipage}{0.49 \linewidth}

$\overrightarrow{\Delta a} = \frac{\left|\overrightarrow{AB}\right|}{w}$\\
$\overrightarrow{a_{i+1}} = \overrightarrow{a_i} + \overrightarrow{\Delta a}$\\
$\overrightarrow{a_1} = \overrightarrow{A}$\\
$\overrightarrow{a_n}=\overrightarrow{B}$\\
$\overrightarrow{r_i} = \overrightarrow{a_i} - \overrightarrow{P}$\\

\begin{center}\textbf{Алгоритм рейкастинга}\end{center}
\textit{
$\text{для каждой } i \in [1,n]$:\\
\hphantom{мммм}$l \leftarrow \text{расстояние-до-стены} (\overrightarrow{P}, \overrightarrow{r_i})$\\
\hphantom{мммм}$h \leftarrow \text{высота-отрезка}(l)$\\
\hphantom{мммм}$\text{отобразить-отрезок}(i, h)$\\
}
\end{minipage}

\end{frame}
\begin{frame}\frametitle{Описание метода: DDA}
Расстояние до стены расчитываем алгоритмом \textbf{цифрового дифференциального анализатора} (digital differential analyzer)\\[5mm]

\begin{minipage}{0.49 \linewidth}
\begin{figure}[h!]
\begin{center}
\includegraphics[width=5cm]{sl_8}\\ %дда
\end{center}
\end{figure}
\end{minipage}
\hfill
\begin{minipage}{0.49 \linewidth}
$\overrightarrow{n}$ - нормированный вектор луча\\
$M_{i,j}$ - число стоящее в матрице уровня в $i$ строке в $j$ столбце\\
\begin{center}\textbf{Алгоритм DDA}\end{center}
\textit{цикл:\\
\hphantom{мммм}если $l_x < l_y$ \\
\hphantom{мммммммм}то $l_x \leftarrow l_x + \Delta x$, $l_{cur} \leftarrow l_x$ \\
\hphantom{мммммммм}иначе $l_y \leftarrow l_y + \Delta y$, $l_{cur} \leftarrow l_y$ \\
\hphantom{мммм}$\overrightarrow{r} =  \overrightarrow{P} + l_{cur} \overrightarrow{n}$ \\
\hphantom{мммм}если $M_{\lfloor r_x \rfloor, \lfloor r_y \rfloor}>0$\\
\hphantom{мммммммм}вернуть $l_{cur}$
}
\end{minipage}
\end{frame}

\begin{frame}\frametitle{Описание метода: эффект <<рыбьего глаза>>}
\textit{
$l \leftarrow $ расстояние до стены$(\overrightarrow{a_i}, \overrightarrow{PH})$}
\begin{figure}[h!]
\begin{center}
\includegraphics[width=8cm]{sl_10}\\ %фишай
\end{center}
\end{figure}
\end{frame}

\begin{frame}\frametitle{Заключение}
\textbf{Дальнейшее развитие проекта}
\begin{itemize}
\itemПредставление карты геометрическими примитивами
\itemЗадание и визуализация путей на карте
\itemАвтоматический поиск путей на карте
\itemРеализация метода на JavaScript для встраивания на web-страницы
\item User-friendly редактор планов помещений
\end{itemize}
\end{frame}
\begin{frame}\frametitle{Заключение}
Проект разрабатывается открыто, и исходные коды доступны по ссылке на github:\\
https://github.com/chetca/Raycasting
\begin{figure}[h!]
\begin{center}
\includegraphics[width=6cm]{git}\\ 
\end{center}
\end{figure}

\end{frame}

\begin{frame}\frametitle{Заключение}
\center\Huge\textbf{Спасибо за внимание!}
\end{frame}

\end{document}
